## Txt目录正则说明

### 菜单区

- 新增目录规则，当Legado自带的规则不能够满足需求时，用户可根据自己的情况自定义目录规则
- 导入默认规则 在旧版本中，Legado自带的规则不会随着软件的更新而更新。用户需要使用最新规则或对自带规则修改后需要重置时，可点击 导入默认规则。**注意：导入默认规则不会重置用户自定义的规则，但如果您对自带的规则进行了修改，则修改的规则会被重置为默认规则。**
- 网络导入 为了方便异步调试以及用户导入他人的目录规则，Legado增加目录规则的网络导入功能。点击 网络导入 的输入框，可以通过内置的链接导入在线规则。（在线规则优先比内置的规则更加激进，但适配了更多类型的标题格式，用户需根据自己的情况选择是否导入）
- 拆分超长章节 根据目录正则分章时若单章超过三万字左右将自动分为多章

### 编辑区
- js处理  
使用js代码对正则获取到的结果进行二次处理，返回的字符串作为标题，返回空字符串时这个匹配的标题不作为目录
    ```js
    index //当前的章节序号（从1开始）
    prevTitle //上一章的标题，可能为null
    prevLength //上一章的内容长度，可能为-1
    lastVolumeTitle //最新的卷标题
    book //当前的书籍对象
    java.putVolume(title:String) //添加一个新卷
    ```

### 操作区
![example](https://gitee.com/lyc486/yuedu/raw/master/tocRuleHelp.jpg)
- 按钮① 选中时表示当前书籍使用的目录正则 如果Legado的自动识别的目录情况不太理想，用户可以手动点击各个规则前面的按钮，临时对本书启用该规则，该按钮仅**针对当前书籍生效**。
- 按钮组② 左边的开关被点亮时，表示该规则将会在自动识别目录时尝试进行匹配，该规则针对**所有TXT书籍生效**。开启后会对所有的TXT格式的书籍启用当前规则扫描符合条件的标题格式；中间的按钮表示编辑当前规则，当识别出的目录与你所期望的不一致时，可以修改当前规则以适应你所导入的书籍；右边的按钮表示删除当前规则，当用户不需要当前规则时可直接删除。（默认的规则删除后可点击 导入默认规则 按钮恢复）
- 按钮组③ 在当前界面进行操作后，需要点击确认按钮使得选择生效。
