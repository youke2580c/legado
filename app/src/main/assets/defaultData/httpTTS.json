[
  {
    "id": -100,
    "name": "1.ç™¾åº¦",
    "url": "http://tts.baidu.com/text2audio,{\n    \"method\": \"POST\",\n    \"body\": \"tex={{java.encodeURI(java.encodeURI(speakText))}}&spd={{(speakSpeed + 5) / 10 + 4}}&per=3&cuid=baidu_speech_demo&idx=1&cod=2&lan=zh&ctp=1&pdt=160&vol=5&aue=6&pit=5&_res_tag_=audio\"\n}",
    "contentType": "audio/wav"
  },
  {
    "id": -29,
    "name": "2.é˜¿é‡Œäº‘è¯­éŸ³",
    "url": "https://nls-gateway.cn-shanghai.aliyuncs.com/stream/v1/tts,{\"method\": \"POST\",\"body\": {\"appkey\":\"{{source.getLoginInfoMap().get('AppKey')}}\",\"text\":\"{{speakText}}\",\"format\":\"mp3\",\"volume\":100,\"speech_rate\":{{String((speakSpeed) * 20 - 400)}} }}",
    "contentType": "audio/mpeg",
    "loginUrl": "function login(){var loginInfo = source.getLoginInfoMap();\nvar accessKeyId = loginInfo.get('AccessKeyId');\nvar accessKeySecret = loginInfo.get('AccessKeySecret');\nvar timestamp = java.timeFormatUTC(new Date().getTime(), \"yyyy-MM-dd'T'HH:mm:ss'Z'\", 0);\nvar aly = new JavaImporter(Packages.javax.crypto.Mac, Packages.javax.crypto.spec.SecretKeySpec, Packages.javax.xml.bind.DatatypeConverter, Packages.java.net.URLEncoder, Packages.java.lang.String, Packages.android.util.Base64);\nwith (aly) {\n    function percentEncode(value) {\n        return URLEncoder.encode(value, \"UTF-8\").replace(\"+\", \"%20\")\n            .replace(\"*\", \"%2A\").replace(\"%7E\", \"~\")\n    }\n\n    function sign(stringToSign, accessKeySecret) {\n        var mac = Mac.getInstance('HmacSHA1');\n        mac.init(new SecretKeySpec(String(accessKeySecret + '&').getBytes(\"UTF-8\"), \"HmacSHA1\"));\n        var signData = mac.doFinal(String(stringToSign).getBytes(\"UTF-8\"));\n        var signBase64 = Base64.encodeToString(signData, Base64.NO_WRAP);\n        var signUrlEncode = percentEncode(signBase64);\n        return signUrlEncode;\n    }\n}\nvar query = 'AccessKeyId=' + accessKeyId + '&Action=CreateToken&Format=JSON&RegionId=cn-shanghai&SignatureMethod=HMAC-SHA1&SignatureNonce=' + java.randomUUID() + '&SignatureVersion=1.0&Timestamp=' + percentEncode(timestamp) + '&Version=2019-02-28';\nvar signStr = sign('GET&' + percentEncode('/') + '&' + percentEncode(query), accessKeySecret);\nvar queryStringWithSign = \"Signature=\" + signStr + \"&\" + query;\nvar body = java.ajax('http://nls-meta.cn-shanghai.aliyuncs.com/?' + queryStringWithSign)\nvar res = JSON.parse(body)\nif (res.Message) {\n    throw new Error(res.Message)\n}\nvar header = { \"X-NLS-Token\": res.Token.Id };\nsource.putLoginHeader(JSON.stringify(header))}",
    "loginUi": [
      {
        "name": "AppKey",
        "type": "text"
      },
      {
        "name": "AccessKeyId",
        "type": "text"
      },
      {
        "name": "AccessKeySecret",
        "type": "text"
      }
    ],
    "loginCheckJs": "var response = result;\nif (response.headers().get(\"Content-Type\") != \"audio/mpeg\") {\n    var body = JSON.parse(response.body().string())\n    if (body.status == 40000001) {\n        source.login()\n        java.getHeaderMap().putAll(source.getHeaderMap(true))\n        response = java.getResponse()\n    } else {\n        throw body.message\n    }\n}\nresponse"
  },
  {
    "concurrentRate": "1500",
    "contentType": "audio/mpeg",
    "enabledCookieJar": false,
    "header": "",
    "id": 1768175007437,
    "jsLib": "//å‚ç…§è‡ª æ˜æœˆç…§å¤§æ±Ÿ nextå¼•æ“æº\n//--æ´›å¨…æ©™\nvar banben = \"0.0.2\";\nvar styleM = {\n    \"æ— é£æ ¼\": \"\",\n    \"åŠ©æ‰‹\": \"assistant\",\n    \"èŠå¤©\": \"chat\",\n    \"å®¢æˆ·æœåŠ¡\": \"customerservice\",\n    \"æ–°é—»æ’­æŠ¥\": \"newscast\",\n    \"æ·±æƒ…\": \"affectionate\",\n    \"æ„¤æ€’\": \"angry\",\n    \"å¹³é™\": \"calm\",\n    \"æ¬¢å¿«\": \"cheerful\",\n    \"ä¸æ»¡\": \"disgruntled\",\n    \"ææƒ§\": \"fearful\",\n    \"æ¸©æŸ”\": \"gentle\",\n    \"æŠ’æƒ…\": \"lyrical\",\n    \"æ‚²ä¼¤\": \"sad\",\n    \"ä¸¥è‚ƒ\": \"serious\",\n    \"è¯—æ­Œæœ—è¯µ\": \"poetry-reading\",\n    \"å‹å¥½\": \"friendly\",\n    \"éšæ„èŠå¤©\": \"chat-casual\",\n    \"è€³è¯­\": \"whispering\",\n    \"æ­‰æ„\": \"sorry\",\n    \"å…´å¥‹\": \"excited\"\n};\n\nvar apiM = {\n    \"http://171.113.113.119:8085/tts\": true,\n    \"http://5.45.99.149:8075/tts\": true,\n    \"http://104.214.168.83:8080/tts\": true,\n    \"http://74.48.40.244:8010/tts\": true,\n    \"http://47.119.125.172:8080/tts\": true,\n    \"http://64.112.42.45:9080/tts\": true,\n    \"http://146.56.188.115:8080/tts\": false,\n    \"https://t.leftsite.cn/tts\": false,\n    \"http://47.79.92.215:18080/tts\": false,\n    \"http://36.248.181.23:22335/tts\": true,\n    \"http://180.114.35.250:1080/tts\": true,\n    \"http://124.71.164.73:8085/tts\": true,\n    \"http://190.92.218.92:8080/tts\": true\n};\n\nvar fyrM = {\n    \"æ™“æ™“\": \"zh-CN-XiaoxiaoNeural\",\n    \"æ™“äº¦\": \"zh-CN-XiaoyiNeural\",\n    \"æ™“è¾°\": \"zh-CN-XiaochenNeural\",\n    \"æ™“æ¶µ\": \"zh-CN-XiaohanNeural\",\n    \"æ™“æ¢¦\": \"zh-CN-XiaomengNeural\",\n    \"æ™“å¢¨\": \"zh-CN-XiaomoNeural\",\n    \"æ™“ç§‹\": \"zh-CN-XiaoqiuNeural\",\n    \"æ™“æŸ”\": \"zh-CN-XiaorouNeural\",\n    \"æ™“ç¿\": \"zh-CN-XiaoruiNeural\",\n    \"æ™“åŒ\": \"zh-CN-XiaoshuangNeural\",\n    \"æ™“é¢œ\": \"zh-CN-XiaoyanNeural\",\n    \"æ™“æ‚ \": \"zh-CN-XiaoyouNeural\",\n    \"æ™“ç”„\": \"zh-CN-XiaozhenNeural\",\n    \"äº‘æºª\": \"zh-CN-YunxiNeural\",\n    \"äº‘é—´\": \"zh-CN-YunjianNeural\",\n    \"äº‘æ‰¬\": \"zh-CN-YunyangNeural\",\n    \"äº‘æ«\": \"zh-CN-YunfengNeural\",\n    \"äº‘çš“\": \"zh-CN-YunhaoNeural\",\n    \"äº‘æ°\": \"zh-CN-YunjieNeural\",\n    \"äº‘å¤\": \"zh-CN-YunxiaNeural\",\n    \"äº‘é‡\": \"zh-CN-YunyeNeural\",\n    \"äº‘æ³½\": \"zh-CN-YunzeNeural\",\n\n    \"æ™“æ™“DIA\": \"zh-CN-XiaoxiaoDialectsNeural\",\n    \"æ™“æ™“MT\": \"zh-CN-XiaoxiaoMultilingualNeural\",\n    \"æ™“å®‡MT\": \"zh-CN-XiaoyuMultilingualNeural\",\n    \"äº‘æ™“MT\": \"zh-CN-YunxiaoMultilingualNeural\",\n    \"äº‘é€¸MT\": \"zh-CN-YunyiMultilingualNeural\",\n    \"äº‘å¸†MT\": \"zh-CN-YunfanMultilingualNeural\",\n\n    \"æ™“è¾°HD\": \"zh-CN-Xiaochen:DragonHDLatestNeural\",\n    \"äº‘å¸†HD\": \"zh-CN-Yunfan:DragonHDLatestNeural\",\n\n    \"æ™“è¾°FHD\": \"zh-CN-Xiaochen:DragonHDFlashLatestNeural\",\n    \"æ™“æ™“FHD\": \"zh-CN-Xiaoxiao:DragonHDFlashLatestNeural\",\n    \"æ½‡æ½‡FHD\": \"zh-CN-Xiaoxiao2:DragonHDFlashLatestNeural\",\n    \"äº‘è§FHD\": \"zh-CN-Yunxiao:DragonHDFlashLatestNeural\",\n    \"äº‘é‡FHD\": \"zh-CN-Yunye:DragonHDFlashLatestNeural\",\n    \"äº‘é€¸FHD\": \"zh-CN-Yunyi:DragonHDFlashLatestNeural\",\n\n    \"æ™“å®¸_ç¹\": \"zh-TW-HsiaoChenNeural\",\n    \"æ™“è¯­_ç¹\": \"zh-TW-HsiaoYuNeural\",\n    \"äº‘å–†_ç¹\": \"zh-TW-YunJheNeural\"\n};\n\nfunction apiurl(speakText, speakSpeed, apiurl) {\n    let info = this.source.getLoginInfoMap();\n    let api = apiurl || info[\"api\"];\n    let apik = apiM[api];\n    let fyr = info[\"å‘è¨€äºº\"];\n    let fyrk = fyrM[fyr];\n    let fg = info[\"é£æ ¼\"];\n    let fgk = styleM[fg];\n    let body = {};\n    let params = `?t=${speakText}&v=${fyrk}&r=${(speakSpeed - 10) * 10}&p=0&s=${fgk}&api_key=`;\n    return `${api}${params}`;\n}",
    "lastUpdateTime": 1770778835144,
    "loginCheckJs": "if (result.code() != 200) {\n    java.toast(\"æ¥å£å¤±æ•ˆ\\næ­£åœ¨åˆ‡æ¢ä¸­...\");\n    java.log(\"å¤±æ•ˆæ¥å£ï¼š\" + java.ruleUrl)\n    let ulm = Object.keys(apiM);\n    let uls = ulm.map(x => apiurl(\"æµ‹è¯•\", 10, x));\n    let resl = java.ajaxTestAll(uls, 3000, true);\n    let goodI = -1,\n        i = 0;\n    let goodt = 9999;\n    for (let res of resl) {\n        let time = res.callTime();\n        if (time > 0 && time < goodt) {\n            goodI = i;\n            goodt = time;\n        }\n        i++;\n    }\n    if (goodI != -1) {\n        let goodurl = ulm[goodI];\n        java.toast(java.log(\"\\nå·²é€‰æ‹©æœ€ä¼˜æ¥å£ï¼š\" + goodurl));\n        let Info = source.getLoginInfoMap();\n        Info['api'] = goodurl;\n        source.putLoginInfo(JSON.stringify(Info));\n        java.initUrl();\n        result = java.getResponse();\n    } else {\n        java.toast(\"éœ€åœ¨ç™»å½•ç•Œé¢åˆ‡æ¢æ¥å£\\nå¼•æ“ç‰ˆæœ¬å·ï¼š\" + banben);\n    }\n}\nresult",
    "loginUi": "@js:\nlet styleS = Object.keys(styleM).map(key => `\"${key}\"`).join(',');\nlet fyrS = Object.keys(fyrM).map(key => `\"${key}\"`).join(',');\nlet apiS = Object.keys(apiM).map(key => `\"${key}\"`).join(',');\n`[{\n        \"name\": \"å‘è¨€äºº\",\n        \"viewName\": \"'å‘è¨€äººï¼š'\",\n        \"action\":\"clear()\",\n        \"type\": \"select\",\n        \"chars\": [${fyrS}],\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    },\n    {\n        \"name\": \"é£æ ¼\",\n        \"viewName\": \"'é£æ ¼ï¼š'\",\n        \"action\":\"clear()\",\n        \"type\": \"select\",\n        \"chars\": [${styleS}],\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    },\n    {\n        \"name\": \"api\",\n        \"viewName\": \"'æ¥å£ï¼š'\",\n        \"action\":\"checkjk()\",\n        \"type\": \"select\",\n        \"chars\": [${apiS}],\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4,\n            \"layout_wrapBefore\": true\n        }\n    },\n    {\n        \"name\": \"è‡ªåŠ¨æ¸…é™¤ç¼“å­˜\",\n        \"viewName\": \"'åˆ‡æ¢å‘è¨€äººæ—¶æ¸…ç†ç¼“å­˜ '\",\n        \"type\": \"toggle\",\n        \"chars\": [\"âœ…\",\"ğŸ”³\"],\n        \"style\": {\n            \"layout_flexGrow\": 0,\n            \"layout_flexBasisPercent\": -1,\n            \"layout_justifySelf\":\"right\",\n            \"layout_wrapBefore\": true\n        }\n    }\n]`;",
    "loginUrl": "function login() {}\n\nfunction checkjk() {\n    let jk = result[\"api\"];\n    let fhd = apiM[jk];\n    java.toast(`\\nå½“å‰æ¥å£${fhd?\"âœ“æ”¯æŒ\":\"Xä¸æ”¯æŒ\"}FHDå‘è¨€äºº\\næ­£åœ¨æµ‹è¯•å»¶è¿Ÿ...`);\n    let url = apiurl(\"æµ‹è¯•\", 10, jk);\n    let res = java.ajaxTestAll([url], 3000, true)[0];\n    let time = res.callTime();\n    if (time < 0) {\n        java.toast(java.log(`\\næ¥å£ï¼š${jk}\\næ— æ³•è®¿é—® ${time}`));\n        return\n    }\n    java.toast(`\\næ¥å£ï¼š${jk}\\nå»¶è¿Ÿæ—¶é—´ä¸º${time}`);\n}\n\nfunction clear() {\n    if (result[\"è‡ªåŠ¨æ¸…é™¤ç¼“å­˜\"] == \"ğŸ”³\") return;\n    java.clearTtsCache();\n}",
    "name": "ğŸŒˆNextå¼•æ“-é•¿æŒ‰åˆ‡æ¢éŸ³è‰²",
    "url": "@js:apiurl(speakText,speakSpeed);"
  }
]